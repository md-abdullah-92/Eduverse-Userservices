services:
  - type: web
    name: eduverse-userservices
    env: java
    runtime: java17
    buildCommand: ./mvnw clean package -DskipTests
    startCommand: java -Xmx512m -jar target/user-services-1.0.0.jar --spring.profiles.active=production
    plan: free
    healthCheckPath: /api/health
    autoDeploy: true
    envVars:
      - key: PORT
        value: 10000
      - key: SPRING_PROFILES_ACTIVE
        value: production
      - key: JAVA_OPTS
        value: "-Xmx512m -Xms256m"
      # NOTE: Set these environment variables in Render Dashboard for security
      # DATABASE_URL, DB_USERNAME, DB_PASSWORD, JWT_SECRET, SMTP_PASSWORD
      # should be configured in Render's Environment Variables section
